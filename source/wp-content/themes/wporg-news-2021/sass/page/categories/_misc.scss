body.category {
	--category-color: var(--wp--preset--color--blue-1);

	.query-title-banner__title__dropcap {
		grid-column: 1 !important;
		width: calc(var(--wp--custom--layout--content-meta-size) - 32px) !important;
		user-select: none;

		.wp-block-query-title {
			color: var(--category-color);
			font-size: 0;
			line-height: 0.7;
			display: none;

			@include break-wide() {
				display: block;
				margin-top: var(--wp--style--block-gap);
			}

			&::first-letter {
				font-size: min(35vw, 475px); // Don't let this grow outside its container.
				text-transform: uppercase;
			}
		}
	}
}

body.category-development {
	--category-color: var(--wp--preset--color--green);

	.local-header {
		--bar-background-color: var(--wp--preset--color--green);
		--bar-text-color: var(--wp--preset--color--black);
		--bar-link-color: var(--wp--preset--color--black);
		--bar-link-hover-color: var(--wp--preset--color--black);
	}
}

body.category-security {
	--category-color: var(--wp--preset--color--coral-red);

	.local-header {
		--bar-background-color: var(--wp--preset--color--coral-red);
		--bar-text-color: var(--wp--preset--color--black);
		--bar-link-color: var(--wp--preset--color--black);
		--bar-link-hover-color: var(--wp--preset--color--darker-grey);
	}
}

// Scale text to maintain a comfortable line length, regardless of viewport size.
// This is specific to the type of layout that Releases and Events use.
// See `sass/font-scaling.md` for details.
%scale-fonts-releases-events {
	.wp-block-post {
		.wp-block-post-title {
			max-width: var(--wp--custom--layout--content-size);
			font-size: clamp(30px, 5.8vw, 36px);
			line-height: 1.3;

			@include break-medium() {
				font-size: clamp(36px, 3.1vw, 50px);
			}
		}

		.wp-block-post-date {

			@include break-wide() {
				font-size: var(--wp--preset--font-size--normal);
			}
		}

		.wp-block-post-excerpt {
			max-width: var(--wp--custom--layout--content-size);
			font-size: clamp(var(--wp--preset--font-size--normal), 3.1vw, 20px);

			@include break-medium() {
				// The layout is now side-by side, so there isn't much room and we need a regular font size.
				font-size: var(--wp--preset--font-size--normal);
			}

			@include break-xlarge() {
				// There's enough room to scale the font again.
				max-width: unset;

				font-size: clamp(var(--wp--preset--font-size--normal), 1.3vw, var(--wp--preset--font-size--extra-large));
			}
		}
	}
}
